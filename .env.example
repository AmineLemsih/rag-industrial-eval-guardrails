# Exemple de fichier d'environnement pour rag-industrial-eval-guardrails
# Renommez ce fichier en `.env` et renseignez les valeurs appropriées.

# === Configuration PostgreSQL ===
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=rag
POSTGRES_USER=rag_user
POSTGRES_PASSWORD=rag_password

# === Configuration OpenAI ===
# Clé API OpenAI pour utiliser GPT-4.1-mini et les embeddings.  Laissez vide
# si vous utilisez un autre fournisseur.
OPENAI_API_KEY=
OPENAI_API_BASE=https://api.openai.com/v1

# === Configuration Amazon Bedrock ===
# Clé d'accès AWS et clé secrète pour accéder à Claude 3.5 Sonnet via Bedrock.
# Indiquez également la région (ex. us-east-1).  Laissez vide si non utilisé.
BEDROCK_AWS_ACCESS_KEY_ID=
BEDROCK_AWS_SECRET_ACCESS_KEY=
BEDROCK_AWS_REGION=
BEDROCK_MODEL_ID=anthropic.claude-3.5-sonnet-v1

# === Configuration modèle local (Ollama) ===
# URL base de l'instance Ollama.  Utilisé pour charger un modèle local
# comme Mistral 7B Instruct.
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=mistral

# === Paramètres du pipeline ===
# Modèle par défaut à utiliser: openai:gpt-4.1-mini, bedrock:claude-3.5-sonnet ou local:mistral
DEFAULT_MODEL=openai:gpt-4.1-mini
# Nombre de passages à récupérer pour le rerankeur
RETRIEVAL_TOP_K=8
# Pondérations du retriever hybride (somme de 1.0)
HYBRID_WEIGHT_BM25=0.5
HYBRID_WEIGHT_VECTOR=0.5
# Taille maximale des chunks (en tokens) et overlap pour le découpage
CHUNK_SIZE=512
CHUNK_OVERLAP=64

# === Paramètres de rerankeur ===
# Modèle à utiliser pour la ré‑ordonnancement (HuggingFace).  Peut être mis à
# jour pour une alternative plus légère.
RERANKER_MODEL=BAAI/bge-reranker-large

# === Limitations et quotas ===
# Nombre maximal de requêtes autorisées par fenêtre temporelle
RATE_LIMIT_REQUESTS=60
# Durée de la fenêtre de rate limit en secondes
RATE_LIMIT_PERIOD=60
# Nombre maximal de tokens envoyés au modèle LLM
MAX_TOKENS=4096

# === Observabilité ===
# Niveau de journalisation (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO
# Port sur lequel exposer les métriques Prometheus
METRICS_PORT=8001
